<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/themleaf-extras-springsecurity5">

<body>
    <div align="right" th:fragment="header">
        <table>
            <!-- 로그인을 하지 않은 경우 로그인 페이지로 이동할 수 있게 한다. -->
            <tr sec:authorize="!isAuthenticated()">
                <td width="80">
                    <a href="../user/register.html" th:href="@{/user/register}" th:text="#{header.joinMember}">회원가입</a>
                </td>

                <!-- 로그인 추가 -->
                <td width="80">
                    <a href="../auth/loginForm.html" th:href="@{/auth/login}" th:text="#{header.login}">로그인</a>
                </td>
            </tr>

            <!-- 로그인을 거친 인증된 사용자인 경우 사용자명을 보여준다. -->
            <tr sec:authorize="isAuthenticated()">
                <!-- 로그아웃 버튼을 배치, 버튼을 클릭하면 로그아웃 -->
                <td width="180">
                    <form action="../auth/logout.html" th:action="@{/auth/logout}" method="POST">
                        <span sec:authentication="principal.username">홍길동</span> 님
                        <button th:text="#{header.logout}"></button>
                    </form>
                </td>
            </tr>
        </table>
    </div>

</body>
</html>